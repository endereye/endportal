$(document).ready(()=>{const a=(a,b,c)=>(c=c.replace(/\n/g,"</p><p><span>&nbsp;</span>").replace(/\s/g,"&nbsp;"),`<p class="command ${a?"success":"failed"}">${b}</p><p><span>&nbsp;</span>${c}</p>`),b=()=>{const a=$("form button");a[0].hasAttribute("disabled")?a.removeAttr("disabled").html(a.children(".sr-only").html()):a.attr("disabled","disabled").html(`<span class="${"spinner-border spinner-border-sm"}"></span><span class="sr-only">${a.html()}</span>`)};$("form").submit(c=>{c.preventDefault();const d=$("input[name=_]").val();b(),$.post("/wcmd/exec/",$("form").serializeArray(),c=>{b(),$(a(!0,d,c)).prependTo($(".response"))}).fail(c=>{b(),$(a(!1,d,c.responseText||"Network failed.")).prependTo($(".response"))})})});